const { relative } = require('path');
const { helpers } = require('../tools/meta');
const { populateCode, readContent } = require('../tools/content');

module.exports = function () {
  const content = readContent(this);
  const path = relative(__dirname, helpers.filter);

  return `
import filterSitemap from ${JSON.stringify(path)};

${populateCode}

module.exports = filterSitemap(${content});
`;
};
