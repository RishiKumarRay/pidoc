const { layouts } = require('../tools/meta');
const { makeRelativePath } = require('../tools/utils');

module.exports = function () {
  const components = Object.keys(layouts)
    .map(
      (layoutName) =>
        `${JSON.stringify(layoutName)}: React.lazy(() => import(${JSON.stringify(
          makeRelativePath(__dirname, layouts[layoutName]),
        )}))`,
    )
    .join(', ');

  return `
import * as React from "react";

export const layouts = {
  ${components}
};
`;
};
